# WAS 직접 구현하기

## 프로젝트 목적

1. HTTP 프로토콜 학습: HTTP 요청/응답 구조와 동작 원리를 이해한다.
2. 웹 서버 동작 원리 학습
3. 클린 코드와 리팩토링: SOLID 원칙을 따르고, TDD를 통한 유지보수 가능한 코드 작성한다.

## 기술 스택

* 언어: Java
* 빌드 도구: Gradle
* 테스트: JUnit5
* IDE: IntelliJ IDEA
* 버전 관리: Git

## 프로그래밍 요구 사항

1. 유닛 테스트를 구현한다.
2. 코드 컨벤션을 지킨다.


## 단계별 요구사항

### 1단계: 기본 WAS 구조 설계 및 초기 설정

1. HTTP 요청과 응답 처리
    * 클라이언트로부터 HTTP 요청을 수신.
    * 요청을 분석하고, 적절한 HTTP 응답을 생성하여 반환.
    * HTTP 프로토콜의 Request/Response 구조를 준수.
    * 요청에서 RequestLine 파싱

2. 멀티스레드 서버 구축
    * 여러 클라이언트 요청을 동시에 처리하기 위해 멀티스레드 방식을 구현.
    * 스레드 풀(Thread Pool)을 사용하여 성능 최적화.

3. 포트 설정
    * 서버가 특정 포트에서 HTTP 요청을 수신하도록 설정.
    * 초기값으로 8080 포트 사용.


### 2단계: URL 매핑 및 기본 라우팅 기능 구현

1. URL 라우팅
    * 클라이언트의 요청 URL에 따라 적절한 핸들러(컨트롤러)로 매핑.
    * 정적 URL 매핑 설정 (예: /hello -> HelloController).

2. 정적 파일 제공
    * 정적 파일(HTML, CSS, JS 등)을 제공하는 기능.
    * 정적 리소스 디렉토리(예: /static 디렉토리)에서 파일을 읽어 반환.

3. 에러 코드 구현


### 3단계: 동적 요청 처리

1. HTTP 메서드 지원
    * GET, POST 요청에 대한 처리 구현.
    * URL과 HTTP 메서드를 기준으로 라우팅.

2. 파라미터 처리
    * URL 쿼리 파라미터를 파싱하여 제공 (예: /hello?name=John -> name=John).
    * POST 요청에서 폼 데이터 파싱.

3. JSON 지원
    * 요청 및 응답에서 JSON 형식을 지원하도록 구현.
    * Content-Type 헤더 기반으로 응답 처리.


### 4단계: 세션 및 쿠키 관리

1. 쿠키(Cookie) 지원
    * 클라이언트와 서버 간의 쿠키 송수신 및 관리.

2. 세션(Session) 관리
    * 클라이언트의 세션을 서버에서 유지 및 관리.
    * 세션 ID를 생성하고, 이를 쿠키에 저장하여 클라이언트와 연계.

3. 로그인 기능
    * 간단한 로그인/로그아웃 기능 구현.
    * 인증된 사용자 세션 유지.

### 5단계: 향후

1. NIO 방식 도입?